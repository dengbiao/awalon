# Task 1.1.4: 实现加入房间功能

## 描述

实现阿瓦隆微信小游戏中加入已有游戏房间的功能，包括加入房间弹窗界面和加入房间的业务逻辑，支持通过房间号和扫码两种方式加入游戏房间。

## 详细需求

### 功能需求

1. 点击大厅中的"加入房间"按钮，弹出加入房间弹窗
2. 支持两种加入房间方式：
   - 输入 6 位房间号
   - 扫描房间二维码
3. 提供加入按钮，确认加入房间
4. 加入成功后自动进入房间等待界面
5. 显示最近加入过的房间列表，支持一键加入
6. 提供刷新按钮，刷新房间状态

### 界面要求

1. 弹窗样式符合游戏整体风格
2. 房间号输入框明显，支持自动纠错（大小写、空格等）
3. 扫码按钮位置合理，点击后调用微信扫码 API
4. 加入按钮明显且易点击
5. 最近房间列表显示房间号、创建者和在线人数
6. 错误提示明确（房间不存在、已满员等）

### 技术要求

1. 弹窗动画流畅，显示和隐藏过程自然
2. 输入验证确保房间号格式正确
3. 集成微信扫码 API
4. 与后端接口对接，处理房间加入请求
5. 本地存储最近加入的房间信息

## 实现步骤

1. 设计加入房间弹窗 UI
2. 实现弹窗基本结构和布局
3. 实现房间号输入和验证
4. 集成微信扫码功能
5. 实现最近房间列表
6. 对接房间加入 API
7. 实现加入成功后的跳转逻辑
8. 添加动画和过渡效果
9. 进行测试和调优

## 验收标准

1. 弹窗显示正确，各控件排布合理
2. 房间号输入和验证正常工作
3. 扫码功能可以正确识别房间二维码
4. 最近房间列表正确显示并支持一键加入
5. 加入房间请求成功发送并得到正确响应
6. 各种错误情况有明确提示
7. 加入成功后正确跳转到房间等待界面
8. 弹窗动画流畅，无卡顿

## 技术依赖

- PIXI.js UI 组件
- 微信扫码 API
- 本地存储 API
- 后端房间加入 API

## 工作量估计

1 人天

## 相关文档

- [UI 设计稿链接](待补充)
- [微信扫码 API 文档](https://developers.weixin.qq.com/minigame/dev/api/media/scan/wx.scanCode.html)
